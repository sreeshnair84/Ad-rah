# =============================================================================
# ADARAH DIGITAL SIGNAGE PLATFORM - ENVIRONMENT CONFIGURATION TEMPLATE
# =============================================================================
# Copy this file to .env and fill in your actual values
# NEVER commit .env file to version control
#
# For detailed configuration instructions, see docs/DEPLOYMENT.md

# =============================================================================
# ENVIRONMENT SETTINGS
# =============================================================================
ENVIRONMENT=development  # development, staging, production
DEBUG_MODE=false
LOG_LEVEL=INFO

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
# MONGO IS THE DEFAULT AND RECOMMENDED DATABASE (PERSISTENT MODE ONLY)
MONGO_URI=mongodb://localhost:27017/openkiosk
DATABASE_PROVIDER=mongodb  # mongodb (default), postgresql, supabase
DATABASE_NAME=openkiosk

# Alternative database configurations (uncomment to switch)
# For PostgreSQL:
# DATABASE_PROVIDER=postgresql
# POSTGRES_URI=postgresql://user:password@localhost:5432/openkiosk

# For Supabase:
# DATABASE_PROVIDER=supabase  
# SUPABASE_PROJECT_URL=https://your-project.supabase.co
# SUPABASE_SERVICE_KEY=your-service-key

# Database connection settings
DATABASE_POOL_SIZE=10
DATABASE_TIMEOUT_SECONDS=30

# =============================================================================
# SECURITY CONFIGURATION (CRITICAL - Generate secure values)
# =============================================================================
# Generate secure keys using: python -c "import secrets; print(secrets.token_urlsafe(32))"
SECRET_KEY=CHANGE_THIS_TO_SECURE_256_BIT_KEY
JWT_SECRET_KEY=CHANGE_THIS_TO_SECURE_JWT_KEY  
REFRESH_TOKEN_SECRET=CHANGE_THIS_TO_SECURE_REFRESH_KEY
ENCRYPTION_KEY=CHANGE_THIS_TO_32_BYTE_BASE64_KEY

# Token expiration settings
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7

# =============================================================================
# AZURE CLOUD SERVICES
# =============================================================================
# Azure Storage (for media files)
AZURE_STORAGE_CONNECTION_STRING=UseDevelopmentStorage=true
AZURE_CONTAINER_NAME=openkiosk-media

# Azure Key Vault (for production secrets)
AZURE_KEY_VAULT_URL=
AZURE_CLIENT_ID=
AZURE_CLIENT_SECRET=
AZURE_TENANT_ID=

# Azure Service Bus (for event processing)
SERVICE_BUS_CONNECTION_STRING=

# Azure AI Services (for content moderation)
AZURE_AI_ENDPOINT=
AZURE_AI_KEY=
AZURE_AI_CONTENT_SAFETY_ENDPOINT=
AZURE_AI_CONTENT_SAFETY_KEY=

# =============================================================================
# AI CONTENT MODERATION - MULTI-PROVIDER SUPPORT
# =============================================================================
# Primary AI provider: gemini, openai, azure_openai, ollama, anthropic
PRIMARY_AI_PROVIDER=gemini

# Google Gemini API (recommended for cost/performance)
# Get your API key from: https://aistudio.google.com/app/apikey
GEMINI_API_KEY=your_gemini_api_key_here
GEMINI_MODEL=gemini-2.5-flash

# OpenAI API
# Get your API key from: https://platform.openai.com/api-keys
OPENAI_API_KEY=your_openai_api_key_here
OPENAI_MODEL=gpt-4o
OPENAI_BASE_URL=https://api.openai.com/v1

# Azure OpenAI (enterprise option)
AZURE_OPENAI_API_KEY=your_azure_openai_key_here
AZURE_OPENAI_ENDPOINT=https://your-resource.openai.azure.com/
AZURE_OPENAI_DEPLOYMENT=gpt-4
AZURE_OPENAI_API_VERSION=2024-02-01

# Anthropic Claude API
# Get your API key from: https://console.anthropic.com/
ANTHROPIC_API_KEY=your_anthropic_api_key_here
ANTHROPIC_MODEL=claude-3-5-sonnet-20241022

# Ollama (free local AI)
OLLAMA_URL=http://localhost:11434
OLLAMA_MODEL=llama3.2

# Hugging Face Models
HUGGINGFACE_API_KEY=your_huggingface_token_here
HUGGINGFACE_MODEL=microsoft/DialoGPT-medium

# AI Agent Configuration
ENABLE_GEMINI_AGENT=true
ENABLE_OPENAI_AGENT=false
ENABLE_AZURE_OPENAI_AGENT=false
ENABLE_ANTHROPIC_AGENT=false
ENABLE_OLLAMA_AGENT=true

# Agent priorities (1-10, higher is better)
GEMINI_AGENT_PRIORITY=8
OPENAI_AGENT_PRIORITY=7
AZURE_OPENAI_AGENT_PRIORITY=6
ANTHROPIC_AGENT_PRIORITY=7
OLLAMA_AGENT_PRIORITY=5

# Fallback agents (comma-separated list)
FALLBACK_AGENTS=ollama,openai

# =============================================================================
# CONTENT MODERATION SETTINGS
# =============================================================================
# Confidence thresholds (0.0-1.0)
MIN_CONFIDENCE_FOR_AUTO_APPROVAL=0.95
MIN_CONFIDENCE_FOR_AUTO_REJECTION=0.3
ESCALATION_CONFIDENCE_THRESHOLD=0.6

# Safety thresholds (0.0-1.0) 
SAFETY_THRESHOLD_VIOLENCE=0.8
SAFETY_THRESHOLD_HATE_SPEECH=0.9
SAFETY_THRESHOLD_ADULT_CONTENT=0.8
SAFETY_THRESHOLD_HARASSMENT=0.8

# Quality thresholds
MIN_QUALITY_SCORE=0.7
MIN_BRAND_SAFETY_SCORE=0.8
MIN_COMPLIANCE_SCORE=0.9

# Performance settings
AI_REQUEST_TIMEOUT=30
VIDEO_PROCESSING_TIMEOUT=120
IMAGE_PROCESSING_TIMEOUT=30
MAX_RETRIES=3
RETRY_DELAY=1.0

# File size limits (in bytes)
MAX_IMAGE_SIZE=10485760    # 10MB
MAX_VIDEO_SIZE=104857600   # 100MB

# =============================================================================
# CONTENT SECURITY & VALIDATION
# =============================================================================
CONTENT_MAX_SIZE_MB=100
ALLOWED_FILE_TYPES=jpg,jpeg,png,gif,webp,mp4,avi,mov,txt,json
CONTENT_SCAN_ENABLED=true
COPYRIGHT_CHECK_ENABLED=true

# Device security
DEVICE_CERTIFICATE_VALIDATION=true
WEBSOCKET_MESSAGE_VALIDATION=strict
DEVICE_HEARTBEAT_TIMEOUT_SECONDS=300

# =============================================================================
# LOCAL DEVELOPMENT SETTINGS
# =============================================================================
# Use local event processor instead of Azure Service Bus
USE_LOCAL_EVENT_PROCESSOR=true
EVENT_PROCESSOR_QUEUE_SIZE=100

# Local media storage directory
LOCAL_MEDIA_DIR=./data/media

# AI simulation mode (for testing without API calls)
ENABLE_AI_SIMULATION_MODE=false
SIMULATION_CONFIDENCE_RANGE=0.4,0.99

# =============================================================================
# RATE LIMITING & PERFORMANCE
# =============================================================================
RATE_LIMIT_REQUESTS_PER_MINUTE=60
RATE_LIMIT_UPLOADS_PER_HOUR=10
ENABLE_RATE_LIMITING=true
REQUESTS_PER_MINUTE=60

# Caching
ENABLE_AI_RESPONSE_CACHING=true
CACHE_TTL_SECONDS=3600

# =============================================================================
# COMPLIANCE & PRIVACY
# =============================================================================
# Data protection
DATA_ENCRYPTION_ENABLED=true
AUDIT_LOGGING_ENABLED=true
GDPR_COMPLIANCE_MODE=true
DATA_RETENTION_DAYS=365

# Human review workflow
AUTO_ESCALATE_HIGH_RISK=true
HIGH_RISK_CATEGORIES=violence,hate_speech,adult_content,illegal_content
MAX_PENDING_REVIEWS=1000
REVIEW_ASSIGNMENT_METHOD=round_robin  # round_robin, random, priority

# Data retention policies
ENABLE_DATA_RETENTION_POLICY=true
ENABLE_RIGHT_TO_ERASURE=true
ENABLE_CONTENT_ARCHIVING=true
ARCHIVE_REJECTED_CONTENT=false
AUDIT_LOG_RETENTION_DAYS=365

# =============================================================================
# NOTIFICATIONS & COMMUNICATIONS
# =============================================================================
# SMTP Configuration (for system notifications)
SMTP_SERVER=
SMTP_PORT=587
SMTP_USERNAME=
SMTP_PASSWORD=
SMTP_USE_TLS=true

# Legal & compliance notifications
DMCA_NOTIFICATION_EMAIL=dmca@yourdomain.com
COPYRIGHT_API_KEY=
CONTENT_ID_SERVICE_URL=

# Alert settings
NOTIFY_ON_HIGH_RISK_CONTENT=true
NOTIFY_ON_SYSTEM_ERRORS=true

# =============================================================================
# MONITORING & ANALYTICS
# =============================================================================
# Application monitoring
SENTRY_DSN=
PROMETHEUS_ENABLED=false
METRICS_PORT=9090

# AI service monitoring
AI_SERVICE_LOG_LEVEL=INFO
ENABLE_PERFORMANCE_LOGGING=true
ENABLE_DETAILED_AI_RESPONSES=false

# =============================================================================
# EXAMPLE CONFIGURATION PROFILES
# =============================================================================

# ---------- DEVELOPMENT PROFILE ----------
# Recommended for local development
# PRIMARY_AI_PROVIDER=ollama
# ENABLE_GEMINI_AGENT=false
# ENABLE_OLLAMA_AGENT=true
# ENABLE_DEBUG_MODE=true
# USE_LOCAL_EVENT_PROCESSOR=true
# ENABLE_AI_SIMULATION_MODE=true

# ---------- PRODUCTION PROFILE ---------- 
# Recommended for production deployment
# PRIMARY_AI_PROVIDER=gemini
# ENABLE_GEMINI_AGENT=true
# ENABLE_OPENAI_AGENT=true
# ENABLE_OLLAMA_AGENT=true
# FALLBACK_AGENTS=openai,ollama
# USE_LOCAL_EVENT_PROCESSOR=false
# ENABLE_AI_SIMULATION_MODE=false

# ---------- COST-OPTIMIZED PROFILE ----------
# Minimize AI service costs
# PRIMARY_AI_PROVIDER=ollama
# ENABLE_OLLAMA_AGENT=true
# ENABLE_OPENAI_AGENT=false
# ENABLE_GEMINI_AGENT=false

# ---------- HIGH-ACCURACY PROFILE ----------
# Maximum content safety (higher costs)
# PRIMARY_AI_PROVIDER=gemini
# ENABLE_GEMINI_AGENT=true
# ENABLE_OPENAI_AGENT=true
# ENABLE_ANTHROPIC_AGENT=true
# MIN_CONFIDENCE_FOR_AUTO_APPROVAL=0.98